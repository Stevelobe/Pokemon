{% extends 'shop/base.html' %}
{% load static %}
{% block content %}
<div class="row">
  <div class="col-md-6">
    <img src="{{ product.image.url }}" class="img-fluid" alt="{{ product.name }}">
  </div>
  <div class="col-md-6">
    <h2>{{ product.name }}</h2>
    {% if product.is_preorder %}
      <span class="badge bg-warning text-dark mb-2">Pre-order</span>
    {% endif %}
    <p class="fw-bold fs-4 text-danger">${{ product.price }}</p>
    <p>{{ product.description }}</p>

    {% if product.available %}
      <form method="post" action="{% url 'cart_add' product.id %}">
        {% csrf_token %}
        <div class="mb-3">
          <label>Quantity</label>
          <input type="number" name="quantity" value="1" min="1" max="{{ product.stock }}" class="form-control w-25">
        </div>
        <button class="btn btn-danger">Add to Cart</button>
      </form>
    {% else %}
      <div class="alert alert-secondary">Currently unavailable</div>
    {% endif %}
  </div>
</div>
{% endblock %}
